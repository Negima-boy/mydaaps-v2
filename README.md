# 本プロジェクトについて

本プロジェクトはフロントエンド部としてReactプロジェクトを内包しているHardhatプロジェクトです。
プロジェクトを1から作成したい場合は
https://zenn.dev/linnefromice/articles/create-simple-dapps-with-hardhat-and-react-ts を参考にしてください。

＜ファイル配置について＞

スマートコントラクト（Solidity）のコードはcontractsに配置してください。
コンパイルすると /artifacts/contractsにJSONファイルが作成されます。これがABIです。

scriptsはデプロイ用のTypeScriptファイルです。Solidityファイルの名前を変更した場合以外は、基本的に触らないでください。

node_modulesはnode.jsのモジュール群です。


  <webfrontについて>

  webfront内にReactプロジェクトが保存してあります。弄るとしたら恐らくこの内部でしょう。

  imgは画像ファイルを保存しています。画像ファイル（svgとか）はそのままだとインポートできないので、webfront/src/types/import-image.d.tsに追加してください。

  srcはソースコード群が保存してあります。

     index.html内は特に弄らなくて大丈夫ですが、フォントやアイコンを追加したい場合は<head>タグに追加してください。

     index.tsxも弄らなくて大丈夫です。

     App.tsxは全ての親コンポーネントとなります。ルーティング設定等はここで行ってください。
     やり方はreact-router-domでググってください）

     User.tsはログイン機能等が書いてあります。ログイン周りを編集したい場合はここを編集してください。

     sample.tsとsample.phpはp12ファイルの分解とブロックチェーンへの格納処理が書いてあります。かなりその場凌ぎになっているので、ここは修正お願いします。
 
     p12ファイルは私がmacで作成した自己署名証明書です。実験はこれを使ってください。

     componentsはReactコンポーネント群が保存されています。追加する場合はここにお願いします。

     stylesheetsにはcssファイルが保存されています。

以上、各種バージョン設定を行う場合はpackage.jsonに記載をお願いします。記載されていないフォルダ等は基本弄らないでください。


＜実行方法について＞

ターミナル（コマンドプロンプト）上で本プロジェクトのディレクトリに移動してから行ってください。

 1.「npx hardhat node」で仮想webサーバーを起動します。

 2.別ウィンドウでターミナルを開いて、「npx hardhat run scripts/deploy.ts --network localhost」で仮想サーバー上にデプロイします。

 3.「cd webfront」に移動して、「yarn dev」で起動してください。URLは表示されるものをブラウザにペーストしてください。


＜フロントエンドの注意点＞

ログインフラグが立っていない場合はログインページに飛ぶようになっています。ログインフラグは開発者ツールを開いて、ローカルストレージから確認できます。
ログインIDは「0000」、パスワードは「ginga」です。（User.tsで設定できます。）

ログアウト機能を追加していないので、ブラウザ上でローカルストレージをクリーンしてフラグの消去を行なってください。


その他、何か不明点ありましたら「negima.engineer@gmail.com」までご連絡お願いします。